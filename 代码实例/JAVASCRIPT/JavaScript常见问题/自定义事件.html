<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>自定义事件</title>
  </head>
  <body>
    <script>
      document.addEventListener("test", function () {
        console.log("自定义事件触发了");
      });

      const myEvevt = new Event("test");

      setTimeout(function () {
        document.dispatchEvent(myEvevt);
      }, 2000);

      document.addEventListener("test2", function (e) {
        console.log("自定义事件触发了参数是", e.detail.name);
      });

      const myEvent2 = new CustomEvent("test2", { detail: { name: "randy" } });

      setTimeout(function () {
        if (document.dispatchEvent) {
          document.dispatchEvent(myEvent2);
        } else {
          document.fireEvent(myEvent2);
        }
      }, 3000);
    </script>
  </body>
</html>
