<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>原型继承</title>
  </head>
  <body>
    <script>
      function Child(name, age) {
        this.name = name;
        this.age = age;
        this.colors = ["red", "blue"];
        this.say = function() {
          console.log("child say", this.name, this.age);
        };
      }
      const Father = {
        sayFather() {
          console.log("child sayFather", this.name, this.age);
        },
        fatherColors: ["green", "yellow"]
      };
      // 原型继承
      Child.prototype = Father;
      // c1
      let c1 = new Child("randy", 24);
      console.log(c1);
      c1.say();
      c1.sayFather();
      console.log(c1.colors);
      console.log(c1.fatherColors);
      // c2
      let c2 = new Child("demi", 25);
      console.log(c2);
      c2.say();
      c2.sayFather();
      console.log(c2.colors);
      console.log(c2.fatherColors);

      // 修改属性
      c1.colors.push("black");
      c1.fatherColors.push("black");
      console.log(c1.colors); // ["red", "blue", "black"]
      console.log(c2.colors); // ["red", "blue"]
      console.log(c1.fatherColors); //["green", "yellow", "black"]
      // 原型链上引用数据类型的属性所有子类共享 容易造成修改混乱
      console.log(c2.fatherColors); // ["green", "yellow", "black"]

      // 修改方法
      c1.say = function() {
        console.log("child update say", this.name, this.age);
      };
      c1.sayFather = function() {
        console.log("child update sayFather", this.name, this.age);
      };
      c1.say(); //child update say randy 24
      c2.say(); //child say demi 25
      c1.sayFather(); // child update sayFather randy 24
      c2.sayFather(); //child sayFather demi 25

      // instanceof
      console.log(c1 instanceof Child); // true
      // 报错 不属于父类实例
      // console.log(c1 instanceof Father);
    </script>
  </body>
</html>
