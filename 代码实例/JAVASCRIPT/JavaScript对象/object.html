<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>object</title>
  </head>

  <body>
    <script>
      let obj1 = { name: "randy" };
      let obj2 = { name: "demi", age: 24 };
      let arr1 = [1, 2, 3, 4, 5];
      let arr2 = [4, 5, 6];
      // 返回新对象或数组，会改变目标对象或数组 同名属性会被替换
      console.log(
        "Object.assign(obj1, obj2), obj1, obj2",
        Object.assign(obj1, obj2),
        obj1,
        obj2
      );
      console.log(
        "Object.assign(arr1, arr2), arr1, arr2",
        Object.assign(arr1, arr2),
        arr1,
        arr2
      );

      // 该方法创建的对象 初始的属性value get set是undefined，enumerable writable configurable都是false。需要配置才能正常赋值。
      const obj3 = Object.create(obj1, { pwd: { value: "123" } });
      console.log(obj3);
      // for in 原型上的属性会被循环出来，前提是enumerable是true
      for (const key in obj1) {
        console.log("obj1", key, obj1[key]);
      }
      // pwd循环不出来 因为enumerable是false
      for (const key in obj3) {
        console.log("obj3", key, obj3[key]);
      }

      // 显示配置为true 不然默认都是false
      const obj4 = Object.create(obj1, {
        pwd: {
          value: "123",
          writable: true,
          enumerable: true,
          configurable: true
        }
      });
      // pwd会循环出来 因为enumerable是true
      for (const key in obj4) {
        console.log("obj4", key, obj4[key]);
      }

      // 该方法创建的对象 初始的属性value get set是undefined，enumerable writable configurable都是false。需要配置才能正常赋值。
      Object.defineProperty(obj4, "avatar", { value: "www" });
      // 定义时配置好
      Object.defineProperty(obj4, "phone", {
        value: "1234567",
        writable: true,
        enumerable: true,
        configurable: true
      });

      // 一次性定义多个属性
      Object.defineProperties(obj2, {
        avatar: {
          value: "eee",
          writable: true,
          enumerable: true,
          configurable: true
        },
        phone: {
          value: "1234567",
          writable: true,
          enumerable: true,
          configurable: true
        }
      });

      console.log(
        "Object.getOwnPropertyDescriptors(obj1)",
        Object.getOwnPropertyDescriptors(obj1)
      );
      console.log(
        "Object.getOwnPropertyDescriptors(obj3)",
        Object.getOwnPropertyDescriptors(obj3)
      );
      console.log(
        "Object.getOwnPropertyDescriptors(obj4)",
        Object.getOwnPropertyDescriptors(obj4)
      );
      console.log(
        "Object.getOwnPropertyDescriptor(obj4, 'phone')",
        Object.getOwnPropertyDescriptor(obj4, "phone")
      );
      console.log(
        "Object.getOwnPropertyDescriptors(obj2)",
        Object.getOwnPropertyDescriptors(obj2)
      );

      for (const iterator of Object.entries(obj2)) {
        console.log("obj2 entries", iterator);
      }
      for (const iterator of Object.keys(obj2)) {
        console.log("obj2 keys", iterator);
      }
      for (const iterator of Object.values(obj2)) {
        console.log("obj2 values", iterator);
      }

      console.log("Object.getPrototypeOf()", Object.getPrototypeOf(obj3));
      console.log(
        "Object.setPrototypeOf(obj3, obj1)",
        Object.setPrototypeOf(obj3, obj1)
      );
      console.log("Object.is(1, 1)", Object.is(1, 1));
      console.log("obj3.hasOwnProperty('pwd')", obj3.hasOwnProperty("pwd"));
      console.log("obj1.isPrototypeOf(obj3)", obj1.isPrototypeOf(obj3));
    </script>
  </body>
</html>
