### 1、http 有哪些方法，分别有什么作用？

    http1.0
      get  获取数据
      post 新增数据
      head 获取响应头，使用场景是请求可能是大文件的时候，先发送head请求判断资源大小是否能下载。
    http1.1
      put  更新 全部更新
      patch 更新，部分更新
      delete 删除
      options 询问，获取目的资源所支持的通信选项。非简单请求在跨域的时候会发送该请求。
      trace 回显服务器收到的请求，主要用于测试或诊断
      connect HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器

### 2、get post 区别？

- get 请求参数在 url 中能看到，post 参数在请求体中，在 url 中看不到。
- get 请求的参数大小有限制，而 post 请求参数大小无限制。
- gt 请求只允许 ASCII 字符，中文会被转码。而 post 请求没有限制。也允许二进制数据。
- get 请求的参数会被保存到历史中，可被收藏成为书签。而 post 请求的参数不会保存到历史中，不能收藏为书签。
- GET 是安全（这里的安全是指只读特性，就是使用这个方法不会引起服务器状态变化）且幂等（幂等的概念是指同一个请求方法执行多次和仅执行一次的效果完全相同），而 POST 是非安全非幂等。

### 3、get post 请求参数长度问题

- 实际上 HTTP 协议从未规定 GET/POST 的请求长度限制是多少。对 get 请求参数的限制是来源与浏览器或 web 服务器，浏览器或 web 服务器限制了 url 的长度。为了明确这个概念，我们必须再次强调下面几点:
  - 1、HTTP 协议 未规定 GET 和 POST 的长度限制
  - 2、GET 的最大长度显示是因为 浏览器和 web 服务器限制了 URI 的长度
  - 3、不同的浏览器和 WEB 服务器，限制的最大长度不一样
  - 4、要支持 IE，则最大长度为 2083byte，若只支持 Chrome，则最大长度 8182byte

### 4、PUT 和 POST 都是给服务器发送新增资源，有什么区别？

PUT 方法是幂等的：连续调用一次或者多次的效果相同（无副作用），而 POST 方法是非幂等的。多次调用会生成多个

### 5、PUT 和 PATCH 都是给服务器发送修改资源，有什么区别？

PUT 和 PATCH 都是更新资源，PUT 是全部更新，而 PATCH 用来对已知资源进行局部更新。修改什么传什么。

### 6、请简单介绍一下 LRU （Least recently used）算法

- LRU（Least recently used，最近最少使用）算法根据数据的历史访问记录来进行淘汰数据，其核心思想是“如果数据最近被访问过，那么将来被访问的几率也更高”。
- 核心思想
  - 新数据插入到链表头部；
  - 每当缓存命中（即缓存数据被访问），则将数据移到链表头部；
  - 当链表满的时候，将链表尾部的数据丢弃。

### 7、http 是无状态的协议这个通过什么解决了？

- 解决这个问题使用到了 cookie
- 服务端生成 cookie 通过响应头部字段`<Set-Cookie: >`把数据传送给客户端
- 客户端通过请求头部字段 Cookie 把数据传送给服务端

### 8、http 和 https 异同？

- http
  - http 使用明文 内容可能会被窃听
  - http 不验证通信方的身份 可能会被伪装
  - http 无法证明报文的完整性 可能会被篡改
  - http 端口是 80
  - http 与 tcp 进行通信，而 https 与 ssl 或者 tls 层通信
- https
  - https 端口是 443
  - https 多了证书这一概念
  - https 不是新的协议 是身披 ssl/tls 协议外壳的 http
  - HTTP 协议运行在 TCP 之上，所有传输的内容都是明文，HTTPS 运行在 SSL/TLS 之上，SSL/TLS 运行在 TCP 之上，所有传输的内容都经过加密的。
  - https 采用公开密钥加密和共享密钥加密两者并用的加密方式
- 什么是 tls/ssl
  - 通俗的讲，TLS、SSL 其实是类似的东西，SSL 是个加密套件，负责对 HTTP 的数据进行加密。TLS 是 SSL 的升级版。现在提到 HTTPS，加密套件基本指的是 TLS。

### 9、UDP TCP 异同？

    UDP 类似发短信
      无连接 不需要连接直接传输
      不可靠 不管对方是否已经收到
      高效 不连接不要要握手所以速度快
      udp可以一对一或者一对多
    TCP
      有连接 三次握手四次挥手
      可靠传输
      效率较udp低
      tcp只能一对一

### 10、http1 http1.1 http2 http3 都有啥特点？

- http1
  - 每次发送请求的时候，都需要进行一次 TCP 的连接
  - 一个请求必须在前一个请求响应到达之前才能发送，会导致阻塞
- http1.1
  - 为解决 http1 一次连接处理一个请求的问题，http1.1 使用了持久连接，http1.1 默认所有的连接都是持久连接 Connection: keep-alive。这样客户端发起多个 HTTP 请求时就减少了 TCP 握手造成的网络资源和通信时间的浪费
    但是持久连接采用阻塞模式，下次请求必须等到上次响应返回后才能发起，如果上次的请求还没返回响应内容，下次请求就只能等着（就是常说的线头阻塞）
  - HTTP/1.1 允许范围请求，即在请求头中加入 Range 头部
  - HTTP/1.1 的请求消息和响应消息都必须包含 Host 头部
  - 新增了 cache-control 头部字段
  - 浏览器上看到的并行请求是开启了多个 tcp 连接(6-8 个)，http1.1 一个连接里面并不支持并行请求。
- http2
  - 所有的 HTTP2.0 通信都在一个 TCP 连接上完成，这个连接可以承载任意数量的双向数据流。实现了真正意义上的并行请求。
    在 HTTP/2 中引入了多路复用的技术，这个技术可以只通过一个 TCP 连接就可以传输并发所有的请求数据。更快更高效一个 tcp 链接并发多个请求(通过帧和流)帧代表着最小的数据单位，每个帧会标识出该帧属于哪个流，流也就是多个帧组成的数据流，代表一个请求。每个帧都有唯一的标识
  - 多路复用，就是在一个 TCP 连接中可以存在多条流。换句话说，也就是可以发送多个请求，对端可以通过帧中的标识知道属于哪个请求。通过这个技术，可以避免 HTTP1.1 旧版本中的队头阻塞问题，极大的提高传输性能。
  - 二级制传输 由以前的文本传输改为二进制传输
  - 头部压缩 用“首部表”来跟踪和存储之前发送的键－值对，对于相同的头部数据，不再通过每次请求和响应发送。
  - 在 HTTP/2 中，服务端可以在客户端某个请求后，主动推送其他资源。
  - 缺点
    - 如果出现丢包，所有的的请求都需要重新传输
- http3
- http3 底层不再使用 tcp 协议 而是使用全新的 QUIC 协议。解决 http2 丢包的问题。QUIC 基于 UDP 实现，但在基于 UDP 的 QUIC 协议中，不同的流之间的数据传输真正实现了相互独立互不干扰，某个流的数据包在出问题需要重传时，并不会对其他流的数据包传输产生影响。

### 11、https 工作原理是什么？这也是 https 如何保证安全传输的？

- 客户端发送请求到服务器
- 服务器接收到请求，发送证书到客户端
- 客户端通过证书上的公钥加密对称加密的密钥，发送给服务器
- 服务器通过非对称加密的私钥解析出对称加密的密钥
- 客户端服务器通过对称加密的密钥对称加密数据，进行传输。然后服务端通过对称加密的密钥解密数据，并通过散列函数验证信息的完整性。
- 总结
  - 所以说 https 是使用了非对称加密和对称加密相结合的方式。
  - https 并不是直接通过非对称加密传输过程，而是有握手过程，握手过程主要是和服务器做通讯，生成私有秘钥，最后通过该秘钥对称加密传输数据。
  - 还有验证证书的正确性。 证书验证过程保证了对方是合法的，并且中间人无法通过伪造证书方式进行攻击。

### 12、http 三次握手 四次挥手都干了些啥？

    三次握手
      客户端发送带syn标志的包seq=x
      服务端收到包然后发送带syn标志的包和ack包 seq=y ack=x+1
      客户端收到服务端的包然后再发送带ack标志的包 ack=y+1
    四次挥手 客户端或者服务器端均可主动发起挥手动作
      主动关闭方发送带fin标志的包 fin=m
      被动方收到fin包然后再发送带ack标志的包 ack=m+1
      被动方发送带fin标志的包 fin=n
      主动方收到被动方的fin 发送ack包 ack=n+1

### 13、gzip 的原理是什么？

gzip 使用了 LZ77 算法与 Huffman 编码来压缩文件，重复度越高的文件可压缩的空间就越大。

### 14、可以对图片开启 gzip 压缩吗？

不需要开启，如果开启的话，有可能使图片变的更大。如果你注意一些网站的 img 资源时，就会发现他们都没有开启 gzip

### 15、Etag 是由什么生成的，与另外一种协商缓存的区别是什么?

- Etag 是由 Last-Modified 与 Content-Length 计算而成，etag 与 If-None-Match 一起搭配组成协商缓存，这种协商缓存
  是下面这种协商缓存的升级版，检测时间的同时还检测文件大小，所以更准确。
- 另外一种协商缓存是 Last-Modified 与 If-Modified-Since 搭配组成的协商缓存，这种缓存只根据时间来计算，所以相对
  不准确，只能应用于秒级别的修改，如果在一秒内修改，检测不到。

### 16、如果 http 响应头中 ETag 值改变了，是否意味着文件内容一定已经更改？

不一定，因为编辑了文件但是并未修改内容时 Last-Modified 的时间也会发生变化，所以 Etag 会重新生成。

### 17、http 服务中静态文件的 Last-Modified 是根据什么生成的？

更新时间

### 18、http 1.1 中的 keep-alive 有什么作用？

持久连接。可以在一个 TCP 连接上发送多个 http 请求，避免了 tcp 握手挥手的开销以及 ssl 连接的开销。
