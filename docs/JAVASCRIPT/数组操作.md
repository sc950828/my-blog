### 1、数组扁平化

数组扁平化是指将一个多维数组变为一维数组

```js
// 1、使用toString()和split()方法
let arr1 = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, { name: "randy" }]
];
// 这种方法适用于数字比较好
const newArr1 = arr1.toString().split(",");
console.log(newArr1);

// 2、使用reduce
let arr2 = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, { name: "randy" }]
];
// reduce
function flatten(arr) {
  return arr.reduce((initialValue, currentValue) => {
    return initialValue.concat(
      Array.isArray(currentValue) ? flatten(currentValue) : currentValue
    );
  }, []);
}
console.log(flatten(arr2));

// 3、使用join()和split()方法
let arr3 = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, { name: "randy" }]
];
// 这种方法适用于数字比较好
const newArr3 = arr3.join(",").split(",");
console.log(newArr3);

// 4、递归
let arr4 = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, { name: "randy" }]
];
function flatten2(arr) {
  let newArr = [];
  arr.forEach(item => {
    if (Array.isArray(item)) {
      newArr = newArr.concat(flatten2(item));
    } else {
      newArr.push(item);
    }
  });
  return newArr;
}
console.log(flatten2(arr4));

// 5、扩展运算符和contact
let arr5 = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, { name: "randy" }]
];
console.log([].concat(...arr5));
```

### 2、比较两数组差异

```js
const arr1 = [1, 2, 3];
const arr2 = [3, 4, 5];
// 第一种方法
function diff1(arr1, arr2) {
  function getDiff(arr1, arr2) {
    const diff = [];
    arr1.forEach(element => {
      if (!arr2.includes(element)) {
        diff.push(element);
      }
    });
    return diff;
  }

  return getDiff(arr1, arr2).concat(getDiff(arr2, arr1));
}
console.log(diff1(arr1, arr2));

// 第二种方法
function diff2(arr1, arr2) {
  return arr1
    .filter(item => !arr2.includes(item))
    .concat(arr2.filter(item => !arr1.includes(item)));
}
console.log(diff2(arr1, arr2));

// 第三种方法
function diff3(arr1, arr2) {
  return arr1
    .concat(arr2)
    .filter(item => !arr1.includes(item) || !arr2.includes(item));
}
console.log(diff3(arr1, arr2));
```
