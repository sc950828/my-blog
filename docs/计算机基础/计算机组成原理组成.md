## 计算机的组成

计算机最基本的 5 大组成部分分别为：输入设备(比如键盘), 存储器(比如内存), 运算器(cpu), 控制器(cpu), 输出设备(显示器)。

## 计算机总线

### 什么是计算机总线

计算机总线就是解决不同设备之间的通信问题

1. 提供了对外连接的接口
2. 不同设备可以通过 USB 接口进行连接
3. 连接的标准，促使外围设备接口的统一

### 总线的分类

#### 片内总线

高集成度芯片内部的信息传输线

1. 芯片内部的总线
2. 寄存器与寄存器之间
3. 寄存器与控制器、运算器之间

#### 系统总线

CPU、主内存、IO 设备、各组件之间的信息传输线

1. 数据总线
2. 地址总线
3. 控制总线

## 计算机仲裁

### 为什么需要计算机仲裁

解决总线使用权的冲突问题

### 总线仲裁方法

#### 链式查询

好处：电路复杂度低 仲裁方式简单

坏处：优先级低的设备难以获得总线使用权

#### 计时器定时查询

仲裁控制器对设备编号并使用计数器累计计数

接收到仲裁信号后，往所有设备发出计数值

计数值与设备编号一致则获得总线使用权

#### 独立请求

每个设备均有总线独立连接仲裁器

设备可独立向仲裁器发送请求和接收请求

当同事收到多个请求信号，仲裁器有券按优先级分配使用权

好处： 响应速度快，优先顺序可动态改变

坏处： 设备连线多，总线控制复杂

## 输入输出设备

### 常见输入设备

键盘 鼠标 数位板 扫描仪

### 常见输出设备

显示器 打印机 投影仪

## CPU 与 IO 设备的通信

### 程序中断

当外围 IO 设备就绪时，向 CPU 发出中断信号

CPU 有专门的电路响应中断信号

### DMA（直接存储器访问）

DMA 直接连接主存与 IO 设备

DMA 工作时不需要 CPU 的参与

## 计算机存储器

### 存储器分类

#### 按存储介质分类

1. 半导体存储器 有内存条、U 盘、固态硬盘
2. 磁存储器 有磁带、磁盘

#### 按存取方式分类

1. 随机存储器（RAM） 随机读取 与位置无关。能读能写。
2. 串行存储器 与位置有关 按顺序查找
3. 只读存储器（ROM）只读不写

### 存储器的层次结构

1. 缓存。 高速缓存，在 CPU 和主存之间。
2. 主存。 内存条。
3. 辅存。 磁盘、U 盘。

### 高速缓存

主要是解决 CPU 与主存速度不匹配问题

#### 高速缓存替换策略

当高速缓存没有 CPU 需要的数据的时候，高速缓存就需要去主存里面拿数据，这里就涉及到高速缓存的替换策略。

1. 随机算法
2. 先进先出算法（FIFO）
3. 最不经常使用算法（LFU）
4. 最近最少使用算法（LRU）

### 主存储器

也就是主存，内存条。

1. 主存 是随机存储器（RAM）
2. RAM 通过电容存储数据，必须隔一段时间刷新一次
3. 如果掉电，name 一段时间后将丢失所有数据

### 辅助存储器

也就是辅存，磁盘。

## 计算机指令系统

### 机器指令的形式

主要由两部分组成：操作码字段、地址码字段

操作码字段

1. 操作码指明指令所要完成的操作
2. 操作码的位数反应了机器的操作种类

地址码字段

1. 地址码直接给出操作数或者操作数的地址
2. 分为三地址指令、二地址指令、一地址指令、无地址指令

### 机器指令的操作类型

1. 数据传输（数据读写、寄存器之间数据传输等等）
2. 算术逻辑操作（加减乘除等算术）
3. 移位操作（数据左移、数据右移）
4. 控制指令（等待指令、停机指令、空操作指令、中断指令）

### 机器指令的寻址方式

#### 指令寻址

1. 顺序寻址
2. 跳跃寻址

#### 数据寻址

1. 立即寻址（操作数直接在地址码字段）
2. 直接寻址（操作数的地址在地址码字段）
3. 间接寻址（地址码给出的是操作数地址的地址）

## 控制器

控制器是协调和控制计算机运行的

主要包括

1. 程序计数器（存储下一条指令地址）
2. 时序发生器（发送时序脉冲）
3. 指令译码器（控制器的主要部件之一）
4. 各种寄存器
5. 总线

## 运算器

运算器是用来进行数据运算加工的

主要包括

1. 数据缓冲器（输入输出缓冲）
2. ALU（算术逻辑单元，运算器的主要组成）
3. 通用寄存器（存放或传送数据和指令、可保存 ALU 的运算中间结果、容量比一般专用寄存器要大）
4. 状态字寄存器（存放运算状态、存放运算控制信息）
5. 总线
