### 浏览器的渲染进程是多线程 一个 tab 窗口 就是一个渲染进程

```
1.GUI渲染线程
  负责渲染浏览器界面,解析 HTML,CSS,构建 DOM 树和 RenderObject 树,布局和绘制等。 GUI 渲染线程与 JS 引擎线程是互斥的
2.JS引擎线程
  JS 引擎线程负责解析 Javascript 脚本,运行代码。 GUI 渲染线程与 JS 引擎线程是互斥的
3.事件触发线程
  当对应的事件符合触发条件被触发时,该线程会把事件添加到待处理队列的队尾,等待 JS 引擎的处理
4.定时触发器线程
  setInterval 与 setTimeout 所在线程， 定时器所在的线程
5.异步http请求线程
  请求的线程
```

### 渲染流程

- 解析 HTML 文件，构建 DOM 树。下载解析 css 生成 css 树。这两个是并行的。
- css 树构建完成与 html dom 树组合形成 RenderObject 树。
- 根据 render 树布局（Layout/reflow），负责各元素尺寸、位置的计算。(涉及到回流)
- 根据 render 树绘制（paint），绘制页面像素信息。(涉及到重绘)
- 浏览器会将各层的信息发送给 GUI，GUI 将各层合成（composite），显示在屏幕上。

### 为什么 js 是单线程的？

这是因为 Javascript 这门脚本语言诞生的使命所致!假设 js 是多线程，如果多个 js 线程操作同一个 dom 元素，一个删除 一个修改这样就会造成冲突。当然我们可以通过锁来解决上面的问题。但为了避免因为引入了锁而带来更大的复杂性,Javascript 在最初就选择了单线程执行。

### 为什么 js 阻塞页面的加载？

由于 JavaScript 是可操纵 DOM 的,如果在修改这些元素属性同时渲染界面（即 JavaScript 线程和 GUI 线程同时运行）,那么就会引发冲突。因此为了防止渲染出现不可预期的结果,浏览器设置 GUI 渲染线程与 JavaScript 引擎为互斥的关系

### css 会阻塞页面的加载吗？

因为 css 解析和 html 解析是同步的 所以 css 加载不会阻塞 dom 的解析。
由于页面的加载是基于 html 树和 css 树组合的 render 树，所以 css 会阻塞页面的渲染。
